<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phone Number Input</title>
</head>
<body>
    <h1>Please Share Your Phone Number</h1>
    <button id="share-phone">Share Phone Number</button>

    <script>
        // Wait for the Telegram Web App to load
        window.onload = function () {
            if (Telegram.WebApp) {
                console.log("Telegram WebApp initialized");
            }
        };

        // Button click event listener
        document.getElementById("share-phone").addEventListener("click", function () {
            if (Telegram.WebApp) {
                // Request the phone number from the user
                Telegram.WebApp.requestPhoneNumber();

                // When the user shares their phone number, send the data to the bot
                Telegram.WebApp.onEvent('web_app_data', function(data) {
                    // Ensure that the data contains a phone number
                    if (data && data.phone_number) {
                        const phoneNumber = data.phone_number;
                        console.log("Phone number received:", phoneNumber);
                        // Send phone number to bot
                        Telegram.WebApp.sendData(JSON.stringify({
                            type: "phone_number", // Specify the type of data being sent
                            data: phoneNumber // Send the actual phone number
                        }));
                    } else {
                        console.log("No phone number provided.");
                    }
                });
            } else {
                console.log("Telegram WebApp is not available.");
            }
        });
    </script>
</body>
</html>
